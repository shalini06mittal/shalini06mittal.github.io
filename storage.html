<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
   
</head>
<body>
    <h1>Javascript storage demo</h1>
    <div class='container'>
        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Name : </label>
            <input type="text" class="form-control" id="username" placeholder="Name" >
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">City : </label>
            <input type="text" class="form-control" id="city" placeholder="City" >
          </div>
          <div class="mb-3">
            <input type="button" class="form-control" onclick='store()' value='Store name'>
          </div>
          <div class="mb-3">
            <input type="button" class="form-control" onclick='remove()' value='Remove name'>
          </div>
    </div>
    <script>
        var customers = JSON.parse(localStorage.getItem('customers'));
        
        if(customers == null || customers.length == 0)
        {
            console.log('its null')
            customers = []
        }  
        function  store(){
            var username = document.getElementById('username').value;
            var city = document.getElementById('city').value;
            var customer = {}
            customer.username = username;
            customer.city = city;
            customers.push(customer);
            localStorage.setItem('customers', JSON.stringify(customers));
        }
        function remove()
        {
            console.log('length '+customers.length)
           var username = document.getElementById('username').value;
           customers = customers.filter((cust) => cust.username!= username)
           console.log(customers);
            localStorage.setItem('customers', JSON.stringify(customers));
           //localStorage.removeItem('customers');
            
        }
        if(localStorage!=null){
            console.log('can work with local storage')
        }
        else{
            console.log('loacl storage not supported')
        }
        if(sessionStorage!=null){
            console.log('can work with session storage')
        }
        else{
            console.log('session storage not supported')
        }

    </script>
</body>
</html>